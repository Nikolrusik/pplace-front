Для работы с функциями битрикса используется библиотека **["bitrix24-library"](https://github.com/astrotrain55/bitrix24-library)**. По ссылке описаны методы работы с библиотекой.

**[Документация REST Bitrix](https://dev.1c-bitrix.ru/rest_help/js_library/rest/callMethod.php)**

Данная библиотека не работает локально, т.к. инит требует авторизацию в битрикс.

## Содержание
- [Содержание](#содержание)
- [После скачивания репозитория](#после-скачивания-репозитория)
- [Для запуска проекта локально](#для-запуска-проекта-локально)
- [Для запуска проекта в bitrix](#для-запуска-проекта-в-bitrix)
- [Описание приложения](#описание-приложения)
  - [Фильтрация данных на основе выбора в `PartsControl`](#фильтрация-данных-на-основе-выбора-в-partscontrol)

## После скачивания репозитория
* Выполните команду после скачивания репозитория
```npm i```
  
   
## Для запуска проекта локально
Перед запуском проекта убедитесь, что в файле index.tsx раскоментированы локальные настройки


## Для запуска проекта в bitrix
* Сначала необхадимо выполнить команду
```npm run build```
    Это обновит сборку в папке dist
1. После этого необходимо собрать содержимое папки dist в архив
2. Открыть нужную интеграцию в битрикс в разделе **"Разработчикам - Интеграции"**, выбрать **"Статическое приложение"**
3. **Указать права приложению. Минимальные:**
    > CRM (crm), Пользователи(user) 
    >
4. Загрузить архив и нажать **"Сохранить"** 
   

## Описание приложения

### Фильтрация данных на основе выбора в `PartsControl`

**Основная идея:** В компоненте [`PartsControl`](src/components/pages/PartsControl/ui.tsx), реализован механизм фильтрации данных, который динамически обновляет отображаемую информацию на основе взаимодействия пользователя с интерфейсом. Этот механизм основан на изменении состояний `openedCar` и `openedPart`.

**Как это работает:**
- Когда пользователь выбирает определенный автомобиль или запчасть, соответствующее состояние (`openedCar` или `openedPart`) обновляется с идентификатором выбранного элемента.
- Изменение в этих состояниях инициирует обновление в фильтрах (хранятся в `carToPartOutsideFilter` и `partToCarOutsideFilters`) - эти фильтры передаются в компоненты `Table`, которые применяются к данным для отображения. Это позволяет, например, отфильтровать запчасти, относящиеся к выбранному автомобилю, и наоборот.
- Фильтрация реализована через useEffect хуки ([`useEffect`](src/components/pages/PartsControl/ui.tsx#L65-L79)), что обеспечивает автоматическое обновление данных при изменении состояний.



